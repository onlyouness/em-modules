{% extends '@PrestaShop/Admin/layout.html.twig' %}

{% block content %}
	<div class="card">
		<div class="card-header">
			<h3>Create/Edit Service</h3>
		</div>

		{{ form_start(form) }}
		<div class="card-body">
			{{ form_row(form.image) }}
			{% if image is defined and image is not empty %}
				<div class="d-flex justify-content-end align-items-center m-3">
					<img width="200px" src="{{ baseUrl ~ 'modules/services/img/' ~ image }}" alt="Service Image"/>
				</div>
			{% endif %}
			{{ form_rest(form) }}


		</div>
		<div class="card-footer">
			<div class="d-flex justify-content-between align-items-center">
				<a class="btn btn-secondary" href="{{ path('oil_section_index' )}}">Cancel</a>
				<button class="btn btn-primary" type="submit">Submit</button>
			</div>

		</div>

		{{ form_end(form, {'render_rest': false}) }}
	</div>
{% endblock %}


{% block javascripts %}
	{{ parent() }}
	<script type="text/javascript">
		const {$} = window;
$(() => {
window.prestashop.component.initComponents([
'TranslatableInput',
'TinyMCEEditor'
])
})
	</script>
	<script type="text/javascript">
		document.addEventListener('DOMContentLoaded', function () {
const addTranslationButton = document.getElementById('add-translation');
const translationsContainer = document.querySelector('.translate_container');
const translationPrototype = translationsContainer.getAttribute('data-prototype');

addTranslationButton.addEventListener('click', function () { // Create a new translation field
const newTranslation = translationPrototype.replace(/__name__/g, translationsContainer.children.length);
const newDiv = document.createElement('div');
newDiv.classList.add('translations');
newDiv.innerHTML = newTranslation;

translationsContainer.appendChild(newDiv);
});
});
	</script>

{% endblock %}
